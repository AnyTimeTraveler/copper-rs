<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="@brief Store by cursor."><title>mdb_cursor_put in lmdb_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lmdb_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0 (051478957 2024-07-21)" data-channel="1.80.0" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../lmdb_sys/index.html">lmdb_sys</a><span class="version">0.11.2</span></h2></div><div class="sidebar-elems"></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">lmdb_sys</a>::<wbr><a class="fn" href="#">mdb_cursor_put</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/lmdb_sys/bindings.rs.html#1290-1295">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mdb_cursor_put(
    cursor: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.MDB_cursor.html" title="struct lmdb_sys::MDB_cursor">MDB_cursor</a>,
    key: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.MDB_val.html" title="struct lmdb_sys::MDB_val">MDB_val</a>,
    data: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.MDB_val.html" title="struct lmdb_sys::MDB_val">MDB_val</a>,
    flags: <a class="type" href="../libc/unix/type.c_uint.html" title="type libc::unix::c_uint">c_uint</a>,
) -&gt; <a class="type" href="../libc/unix/type.c_int.html" title="type libc::unix::c_int">c_int</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>@brief Store by cursor.</p>
<p>This function stores key/data pairs into the database.
The cursor is positioned at the new item, or on failure usually near it.
@note Earlier documentation incorrectly said errors would leave the
state of the cursor unchanged.
@param[in] cursor A cursor handle returned by #mdb_cursor_open()
@param[in] key The key operated on.
@param[in] data The data operated on.
@param[in] flags Options for this operation. This parameter
must be set to 0 or one of the values described here.</p>
<ul>
<li>#MDB_CURRENT - replace the item at the current cursor position.
	The \b key parameter must still be provided, and must match it.
	If using sorted duplicates (#MDB_DUPSORT) the data item must still
	sort into the same place. This is intended to be used when the
	new data is the same size as the old. Otherwise it will simply
	perform a delete of the old record followed by an insert.
<li>#MDB_NODUPDATA - enter the new key/data pair only if it does not
	already appear in the database. This flag may only be specified
	if the database was opened with #MDB_DUPSORT. The function will
	return #MDB_KEYEXIST if the key/data pair already appears in the
	database.
<li>#MDB_NOOVERWRITE - enter the new key/data pair only if the key
	does not already appear in the database. The function will return
	#MDB_KEYEXIST if the key already appears in the database, even if
	the database supports duplicates (#MDB_DUPSORT).
<li>#MDB_RESERVE - reserve space for data of the given size, but
	don't copy the given data. Instead, return a pointer to the
	reserved space, which the caller can fill in later - before
	the next update operation or the transaction ends. This saves
	an extra memcpy if the data is being generated later. This flag
	must not be specified if the database was opened with #MDB_DUPSORT.
<li>#MDB_APPEND - append the given key/data pair to the end of the
	database. No key comparisons are performed. This option allows
	fast bulk loading when keys are already known to be in the
	correct order. Loading unsorted keys with this flag will cause
	a #MDB_KEYEXIST error.
<li>#MDB_APPENDDUP - as above, but for sorted dup data.
<li>#MDB_MULTIPLE - store multiple contiguous data elements in a
	single request. This flag may only be specified if the database
	was opened with #MDB_DUPFIXED. The \b data argument must be an
	array of two MDB_vals. The mv_size of the first MDB_val must be
	the size of a single data element. The mv_data of the first MDB_val
	must point to the beginning of the array of contiguous data elements.
	The mv_size of the second MDB_val must be the count of the number
	of data elements to store. On return this field will be set to
	the count of the number of elements actually written. The mv_data
	of the second MDB_val is unused.
</ul>
@return A non-zero error value on failure and 0 on success. Some possible
errors are:
<ul>
<li>#MDB_MAP_FULL - the database is full, see #mdb_env_set_mapsize().
<li>#MDB_TXN_FULL - the transaction has too many dirty pages.
<li>EACCES - an attempt was made to write in a read-only transaction.
<li>EINVAL - an invalid parameter was specified.
</ul></div></details></section></div></main></body></html>