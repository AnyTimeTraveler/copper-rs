<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="@brief Open a database in the environment."><title>mdb_dbi_open in lmdb_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="lmdb_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0 (051478957 2024-07-21)" data-channel="1.80.0" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../lmdb_sys/index.html">lmdb_sys</a><span class="version">0.11.2</span></h2></div><div class="sidebar-elems"></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">lmdb_sys</a>::<wbr><a class="fn" href="#">mdb_dbi_open</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/lmdb_sys/bindings.rs.html#875-880">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mdb_dbi_open(
    txn: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.MDB_txn.html" title="struct lmdb_sys::MDB_txn">MDB_txn</a>,
    name: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*const </a><a class="type" href="../libc/unix/linux_like/linux/gnu/b64/x86_64/type.c_char.html" title="type libc::unix::linux_like::linux::gnu::b64::x86_64::c_char">c_char</a>,
    flags: <a class="type" href="../libc/unix/type.c_uint.html" title="type libc::unix::c_uint">c_uint</a>,
    dbi: <a class="primitive" href="https://doc.rust-lang.org/1.80.0/std/primitive.pointer.html">*mut </a><a class="type" href="type.MDB_dbi.html" title="type lmdb_sys::MDB_dbi">MDB_dbi</a>,
) -&gt; <a class="type" href="../libc/unix/type.c_int.html" title="type libc::unix::c_int">c_int</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>@brief Open a database in the environment.</p>
<p>A database handle denotes the name and parameters of a database,
independently of whether such a database exists.
The database handle may be discarded by calling #mdb_dbi_close().
The old database handle is returned if the database was already open.
The handle may only be closed once.</p>
<p>The database handle will be private to the current transaction until
the transaction is successfully committed. If the transaction is
aborted the handle will be closed automatically.
After a successful commit the handle will reside in the shared
environment, and may be used by other transactions.</p>
<p>This function must not be called from multiple concurrent
transactions in the same process. A transaction that uses
this function must finish (either commit or abort) before
any other transaction in the process may use this function.</p>
<p>To use named databases (with name != NULL), #mdb_env_set_maxdbs()
must be called before opening the environment.  Database names are
keys in the unnamed database, and may be read but not written.</p>
<p>@param[in] txn A transaction handle returned by #mdb_txn_begin()
@param[in] name The name of the database to open. If only a single
database is needed in the environment, this value may be NULL.
@param[in] flags Special options for this database. This parameter
must be set to 0 or by bitwise OR’ing together one or more of the
values described here.</p>
<ul>
<li>#MDB_REVERSEKEY
	Keys are strings to be compared in reverse order, from the end
	of the strings to the beginning. By default, Keys are treated as strings and
	compared from beginning to end.
<li>#MDB_DUPSORT
	Duplicate keys may be used in the database. (Or, from another perspective,
	keys may have multiple data items, stored in sorted order.) By default
	keys must be unique and may have only a single data item.
<li>#MDB_INTEGERKEY
	Keys are binary integers in native byte order, either unsigned int
	or size_t, and will be sorted as such.
	The keys must all be of the same size.
<li>#MDB_DUPFIXED
	This flag may only be used in combination with #MDB_DUPSORT. This option
	tells the library that the data items for this database are all the same
	size, which allows further optimizations in storage and retrieval. When
	all data items are the same size, the #MDB_GET_MULTIPLE, #MDB_NEXT_MULTIPLE
	and #MDB_PREV_MULTIPLE cursor operations may be used to retrieve multiple
	items at once.
<li>#MDB_INTEGERDUP
	This option specifies that duplicate data items are binary integers,
	similar to #MDB_INTEGERKEY keys.
<li>#MDB_REVERSEDUP
	This option specifies that duplicate data items should be compared as
	strings in reverse order.
<li>#MDB_CREATE
	Create the named database if it doesn't exist. This option is not
	allowed in a read-only transaction or a read-only environment.
</ul>
@param[out] dbi Address where the new #MDB_dbi handle will be stored
@return A non-zero error value on failure and 0 on success. Some possible
errors are:
<ul>
<li>#MDB_NOTFOUND - the specified database doesn't exist in the environment
	and #MDB_CREATE was not specified.
<li>#MDB_DBS_FULL - too many databases have been opened. See #mdb_env_set_maxdbs().
</ul></div></details></section></div></main></body></html>